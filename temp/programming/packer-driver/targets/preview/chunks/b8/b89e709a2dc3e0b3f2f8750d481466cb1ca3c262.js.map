{"version":3,"sources":["file:///D:/cocos%20creator%20project/TeamBattle/assets/resources/scripts/pop/add-anim.ts"],"names":["_decorator","Component","UITransform","LabelAnimData","ObjectPool","PopUpLabel","ccclass","property","add_anim","update","width","node","getComponent","contentSize","height","x","Math","random","y","anim","allocate","duration","ease","text","from","scale","color","r","g","b","position","to","a","popup","addAnim","release"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;;AACvBC,MAAAA,a,iBAAAA,a;;AACAC,MAAAA,U,iBAAAA,U;;AACAC,MAAAA,U,iBAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;0BAGjBQ,Q,WADZF,OAAO,CAAC,UAAD,C,UAEHC,QAAQ;AAAA;AAAA,mC,2BAFb,MACaC,QADb,SAC8BP,SAD9B,CACwC;AAAA;AAAA;;AAAA;AAAA;;AAIpCQ,QAAAA,MAAM,GAAG;AACL,cAAMC,KAAK,GAAG,KAAKC,IAAL,CAAUC,YAAV,CAAuBV,WAAvB,EAAoCW,WAApC,CAAgDH,KAA9D;AACA,cAAMI,MAAM,GAAG,KAAKH,IAAL,CAAUC,YAAV,CAAuBV,WAAvB,EAAoCW,WAApC,CAAgDC,MAA/D;AACA,cAAMC,CAAC,GAAG,CAAC,EAAEL,KAAK,GAAG,CAAR,GAAYA,KAAK,GAAGM,IAAI,CAACC,MAAL,EAAtB,CAAX;AACA,cAAMC,CAAC,GAAG,CAAC,EAAEJ,MAAM,GAAG,CAAT,GAAaA,MAAM,GAAGE,IAAI,CAACC,MAAL,EAAxB,CAAX;AACA,cAAME,IAAI,GAAG;AAAA;AAAA,wCAAWC,QAAX;AAAA;AAAA,6CAAb;AACAD,UAAAA,IAAI,CAACE,QAAL,GAAgB,CAAhB;AACAF,UAAAA,IAAI,CAACG,IAAL,GAAY,QAAZ;AACAH,UAAAA,IAAI,CAACI,IAAL,GAAYR,CAAC,GAAG,IAAJ,GAAWG,CAAvB;AACAC,UAAAA,IAAI,CAACK,IAAL,CAAUC,KAAV,GAAkB,GAAlB;AACAN,UAAAA,IAAI,CAACK,IAAL,CAAUE,KAAV,CAAgBC,CAAhB,GAAoB,CAAC,EAAE,MAAMX,IAAI,CAACC,MAAL,EAAR,CAArB;AACAE,UAAAA,IAAI,CAACK,IAAL,CAAUE,KAAV,CAAgBE,CAAhB,GAAoB,CAAC,EAAE,MAAMZ,IAAI,CAACC,MAAL,EAAR,CAArB;AACAE,UAAAA,IAAI,CAACK,IAAL,CAAUE,KAAV,CAAgBG,CAAhB,GAAoB,CAAC,EAAE,MAAMb,IAAI,CAACC,MAAL,EAAR,CAArB;AACAE,UAAAA,IAAI,CAACK,IAAL,CAAUM,QAAV,CAAmBf,CAAnB,GAAuBA,CAAvB;AACAI,UAAAA,IAAI,CAACK,IAAL,CAAUM,QAAV,CAAmBZ,CAAnB,GAAuBA,CAAvB;AACAC,UAAAA,IAAI,CAACY,EAAL,CAAQN,KAAR,GAAgB,GAAhB;AACAN,UAAAA,IAAI,CAACY,EAAL,CAAQL,KAAR,CAAcC,CAAd,GAAkB,GAAlB;AACAR,UAAAA,IAAI,CAACY,EAAL,CAAQL,KAAR,CAAcC,CAAd,GAAkB,GAAlB;AACAR,UAAAA,IAAI,CAACY,EAAL,CAAQL,KAAR,CAAcC,CAAd,GAAkB,GAAlB;AACAR,UAAAA,IAAI,CAACY,EAAL,CAAQL,KAAR,CAAcM,CAAd,GAAkB,CAAlB;AACA,eAAKC,KAAL,CAAWC,OAAX,CAAmBf,IAAnB;AACAA,UAAAA,IAAI,CAACgB,OAAL;AACH;;AA1BmC,O;;;;;iBAEhB,I","sourcesContent":["import { _decorator, Component, UITransform } from 'cc';\nimport { LabelAnimData } from './popuplabel/label-anim-data';\nimport { ObjectPool } from './popuplabel/object-pool';\nimport { PopUpLabel } from './popuplabel/popup-label';\nconst { ccclass, property } = _decorator;\n\n@ccclass('add_anim')\nexport class add_anim extends Component {\n    @property(PopUpLabel)\n    popup: PopUpLabel = null;\n\n    update() {\n        const width = this.node.getComponent(UITransform).contentSize.width;\n        const height = this.node.getComponent(UITransform).contentSize.height;\n        const x = ~~(width / 2 - width * Math.random());\n        const y = ~~(height / 2 - height * Math.random());\n        const anim = ObjectPool.allocate(LabelAnimData);\n        anim.duration = 6;\n        anim.ease = \"backIn\";\n        anim.text = x + \" ,\" + y;\n        anim.from.scale = 0.3;\n        anim.from.color.r = ~~(255 * Math.random());\n        anim.from.color.g = ~~(255 * Math.random());\n        anim.from.color.b = ~~(255 * Math.random());\n        anim.from.position.x = x;\n        anim.from.position.y = y;\n        anim.to.scale = 0.2;\n        anim.to.color.r = 255;\n        anim.to.color.r = 255;\n        anim.to.color.r = 255;\n        anim.to.color.a = 0;\n        this.popup.addAnim(anim);\n        anim.release();\n    }\n}\n"]}